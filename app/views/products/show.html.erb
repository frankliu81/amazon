<h1><%= @product.title %></h1>
<p><%= @product.description %></p>
<p>Price: $<%= "%.2f" % @product.price %></p>
<%= link_to "Edit", edit_product_path(@product) %>
<%= link_to "Delete", product_path(@product), method: :delete,
                                              data: {confirm: "Are you sure?"} %>
<hr>

<%= @review.errors.full_messages.join(", ") %>

<hr>

<%# product_reviews_path is a post to review#create under a product id %>
<%= form_for @review, url: product_reviews_path(@product) do |f| %>
  <%#= f.label :star_count, "Star" %>
  <%#= f.text_field :star_count %>

  <label for="review_star_count" class="control-label">Rate This</label>
  <input id="review_star_count" name="review[star_count]" class="rating rating-loading" data-min="0" data-max="5" data-step="1">

  <%= f.label :body, "Review" %>
  <%= f.text_area :body %>
  <%= f.submit %>
<% end %>

<h2>Reviews</h2>
<% @product.reviews.each do |review| %>
  <!-- <%#= review.star_count %> star - -->
  <label for="review_star_count" class="control-label">Rate This</label>
  <input id="review_star_count" name="review[star_count]" class="rating rating-loading" data-min="0" data-max="5" data-step="1" value="<%= review.star_count %>">

  <%= review.body %>
  <%= link_to "delete", product_review_path(@product, review),
                data: {confirm: "Are you sure?"},
                method: :delete %>
  <hr>
<% end %>

<!-- this for the star rating would work as well if we don't include jquery-turbolink gem fix -->
<!-- <script>
  $(".rating").rating()
</script> -->
